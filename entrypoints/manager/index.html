<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Singularity Options</title>
    <meta name="manifest.type" content="browser_action" />
    <link href="~/assets/tailwind.css" rel="stylesheet" />
    <link href="~/assets/ui.css" rel="stylesheet" />
    <link href="~/assets/controls.css" rel="stylesheet" />
  </head>
  <body class="justify-center min-h-screen">
    <div id="app" class="h-screen grid gap-4 grid-rows-[auto,1fr,auto] overflow-hidden">
      <header>
        <div class="flex gap-4 items-baseline justify-between">
          <h1 class="font-mono text-xl mb-2">Singularity</h1>
          <h2 class="font-mono text-md mb-2 text-zinc-400">Snippet manager for Singular.live</h1>
        </div>
        <hr class="border-zinc-600" />
      </header>
      <main class="overflow-hidden">
        <section id="snippet-manager" class="h-full">
          <div
            class="split-panel-container w-full max-w-[calc(100vw-4rem)] h-full min-h-[400px] flex rounded-md overflow-hidden"
          >
            <aside class="split-panel w-[20%]">
              <section
                id="snippet-list"
                class="list-none p-2 m-0 flex flex-col grow gap-1 overflow-y-auto bg-zinc-800 rounded-md"
              ></section>
              <button id="add-snippet" class="rounded-md">Add Snippet</button>
            </aside>
            <div
              class="separator bg-zinc-900 cursor-col-resize bg-no-repeat bg-center w-2 select-none"
            ></div>
            <div class="split-panel w-[80%]">
              <header
                class="flex items-center flex-wrap justify-between gap-4 bg-zinc-800 rounded-md p-2"
              >
                <h2 id="snippet-description" class="font-semibold mx-2"></h2>
                <div class="ml-auto flex flex-wrap items-center justify-end gap-2">
                  <button id="edit-snippet">Edit Snippet</button>
                  <button id="delete-snippet">Delete</button>
                </div>
              </header>
              <section id="snippet-editor" class="grow rounded-md overflow-hidden"></section>
            </div>
          </div>
        </section>
        <!-- <section id="keybinds-manager"></section> -->
      </main>
      <footer class="flex gap-4 justify-between items-end">
        <section id="options" class="flex flex-wrap gap-4 items-end"></section>
        <p class="text-zinc-400 mt-4">Made by Ross Cooper</p>
      </footer>
      <dialog id="add-snippet-dialog" data-trigger="add-snippet">
        <form method="dialog">
          <h1>Add Snippet</h1>
          <div class="flex items-center gap-4 mb-4">
            <label>
              <span>Name:</span>
              <input class="mt-2" type="text" name="name" required />
            </label>
            <fieldset class="radio-group">
              <legend class="label">Context:</legend>
              <input
                type="radio"
                name="context"
                id="context-composition"
                value="composition"
                checked
              />
              <label for="context-composition">Composition</label>
              <input type="radio" name="context" id="context-global" value="global" />
              <label for="context-global">Global</label>
              <input type="radio" name="context" id="context-overlay" value="overlay" />
              <label for="context-overlay">Overlay</label>
              <input type="radio" name="context" id="context-shared" value="shared" />
              <label for="context-shared">Shared</label>
            </fieldset>
          </div>
          <label>
            <span>Description:</span>
            <input class="mt-2 mb-4" type="text" name="description" />
          </label>
          <label>
            <span>Code:</span>
            <textarea class="font-mono mt-2" type="text" name="code" required></textarea>
          </label>
          <menu>
            <button type="submit">Save</button>
            <button type="reset">Close</button>
          </menu>
        </form>
      </dialog>
      <dialog id="edit-snippet-dialog" data-trigger="edit-snippet">
        <form method="dialog">
          <h1>Edit Snippet</h1>
          <input type="hidden" name="id" />
          <div class="flex items-center gap-4 mb-4">
            <label>
              <span>Name:</span>
              <input class="mt-2" type="text" name="name" required />
            </label>
            <fieldset class="radio-group">
              <legend class="label">Context:</legend>
              <input
                type="radio"
                name="context"
                id="context-composition"
                value="composition"
                checked
                required
              />
              <label for="context-composition">Composition</label>

              <input type="radio" name="context" id="context-global" value="global" />
              <label for="context-global">Global</label>

              <input type="radio" name="context" id="context-overlay" value="overlay" />
              <label for="context-overlay">Overlay</label>

              <input type="radio" name="context" id="context-shared" value="shared" />
              <label for="context-shared">Shared</label>
            </fieldset>
          </div>
          <label>
            <span>Description:</span>
            <input class="mt-2 mb-4" type="text" name="description" />
          </label>
          <label>
            <span>Code:</span>
            <textarea class="font-mono mt-2" type="text" name="code" required></textarea>
          </label>
          <menu>
            <button type="submit">Save</button>
            <button type="reset">Close</button>
          </menu>
        </form>
      </dialog>
      <dialog id="delete-snippet-dialog" data-trigger="delete-snippet">
        <form method="dialog">
          <h1>Delete Snippet</h1>
          <input type="hidden" name="id" />
          <menu>
            <button type="submit">Confirm</button>
            <button type="reset">Cancel</button>
          </menu>
        </form>
      </dialog>
    </div>
    <script type="module" src="./main.ts"></script>
  </body>
</html>
