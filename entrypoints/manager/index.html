<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Singularity Options</title>
    <meta name="manifest.type" content="browser_action" />
    <link href="~/assets/tailwind.css" rel="stylesheet" />
    <link href="~/assets/ui.css" rel="stylesheet" />
    <link href="~/assets/controls.css" rel="stylesheet" />
  </head>
  <body class="justify-center min-h-screen dark">
    <div id="app" class="h-screen grid gap-4 grid-rows-[auto,1fr,auto] overflow-hidden">
      <header>
        <div class="flex gap-4 items-baseline justify-between">
          <h1 class="font-mono text-xl mb-2">Singularity</h1>
          <h2 class="font-mono text-md mb-2 text-zinc-600 dark:text-zinc-400">
            Snippet manager for Singular.live
          </h2>
        </div>
        <hr class="border-zinc-600" />
      </header>
      <main class="overflow-hidden">
        <section id="snippet-manager" class="h-full">
          <div
            class="split-panel-container w-full max-w-[calc(100vw-4rem)] h-full min-h-[400px] flex rounded-md"
          >
            <aside class="split-panel w-[25%]">
              <section
                id="snippet-list"
                class="list-none p-2 m-0 flex flex-col grow gap-1 overflow-y-auto bg-fg/10 rounded-md"
              ></section>
              <button id="add-snippet" class="rounded-md">Add Snippet</button>
            </aside>
            <div class="separator cursor-col-resize bg-no-repeat bg-center w-2 select-none"></div>
            <div class="split-panel w-[75%]">
              <header
                class="flex items-center flex-wrap justify-between gap-4 bg-fg/10 rounded-md p-2"
              >
                <h2 id="snippet-description" class="font-semibold mx-2"></h2>
                <div class="ml-auto flex flex-wrap items-center justify-end gap-2">
                  <button id="edit-snippet">Edit Snippet</button>
                  <button id="delete-snippet">Delete</button>
                </div>
              </header>
              <section id="snippet-editor" class="grow rounded-md overflow-hidden"></section>
            </div>
          </div>
        </section>
        <!-- <section id="keybinds-manager"></section> -->
      </main>
      <footer class="flex gap-4 justify-between items-end">
        <section id="options" class="flex flex-wrap gap-4 items-stretch"></section>
        <div class="flex flex-wrap flex-col gap-2 justify-between items-end">
          <div class="flex flex-wrap gap-2">
            <button class="px-1.5 py-0.5" id="import-export">Import / Export</button>
          </div>
          <p class="text-zinc-500 dark:text-zinc-400 mt-4 text-center">
            Made by <a target="_blank" href="https://github.com/rcoopr">Ross Cooper</a>
          </p>
        </div>
      </footer>
      <dialog class="z-50 dialog-snippet" id="add-snippet-dialog" data-trigger="add-snippet">
        <form method="dialog">
          <h1>Add Snippet</h1>
          <div class="flex items-stretch gap-4 mb-4 flex-wrap justify-between">
            <label class="grow">
              <span class="mb-1 inline-block">Name:</span>
              <input type="text" name="name" required autofocus />
            </label>
            <label class="flex flex-col items-center">
              <span class="mb-1">Favourite:</span>
              <span class="flex-1 flex items-center">
                <input type="checkbox" name="favourite" checked class="w-6 h-6 accent-btn-bg" />
              </span>
            </label>
          </div>
          <div class="flex items-stretch gap-4 mb-4 flex-wrap justify-between">
            <fieldset class="radio-group">
              <legend class="label">Language:</legend>
              <input
                type="radio"
                name="lang"
                id="lang-javascript"
                value="javascript"
                checked
                required
              />
              <label for="lang-javascript">Javascript</label>

              <input type="radio" name="lang" id="lang-typescript" value="typescript" />
              <label for="lang-typescript">Typescript</label>

              <input type="radio" name="lang" id="lang-html" value="html" />
              <label for="lang-html">HTML</label>
            </fieldset>
            <fieldset class="radio-group">
              <legend class="label">Context:</legend>
              <input
                type="radio"
                name="context"
                id="context-composition"
                value="composition"
                checked
                required
              />
              <label for="context-composition">Composition</label>

              <input type="radio" name="context" id="context-global" value="global" />
              <label for="context-global">Global</label>

              <input type="radio" name="context" id="context-overlay" value="overlay" />
              <label for="context-overlay">Overlay</label>

              <input type="radio" name="context" id="context-shared" value="shared" />
              <label for="context-shared">Shared</label>
            </fieldset>
          </div>
          <label>
            <span>Description:</span>
            <input class="mt-2 mb-4" type="text" name="description" />
          </label>
          <label>
            <span>Code:</span>
            <textarea class="font-mono mt-2" name="code" required></textarea>
          </label>
          <menu>
            <button type="submit">Save</button>
            <button type="reset">Close</button>
          </menu>
        </form>
      </dialog>
      <dialog class="z-50 dialog-snippet" id="edit-snippet-dialog" data-trigger="edit-snippet">
        <form method="dialog">
          <h1>Edit Snippet</h1>
          <input type="hidden" name="id" />
          <div class="flex items-stretch gap-4 mb-4 flex-wrap justify-between">
            <label class="grow">
              <span class="mb-1 inline-block">Name:</span>
              <input type="text" name="name" required />
            </label>
            <label class="flex flex-col items-center">
              <span class="mb-1">Favourite:</span>
              <span class="flex-1 flex items-center">
                <input type="checkbox" name="favourite" checked class="w-6 h-6 accent-btn-bg" />
              </span>
            </label>
          </div>
          <div class="flex items-stretch gap-4 mb-4 flex-wrap justify-center">
            <fieldset class="radio-group" onclick="console.log">
              <legend class="label">Language:</legend>
              <input type="radio" name="lang" id="lang-javascript" value="javascript" required />
              <label for="lang-javascript">Javascript</label>

              <input type="radio" name="lang" id="lang-typescript" value="typescript" />
              <label for="lang-typescript">Typescript</label>

              <input type="radio" name="lang" id="lang-html" value="html" />
              <label for="lang-html">HTML</label>
            </fieldset>
            <fieldset class="radio-group">
              <legend class="label">Context:</legend>
              <input
                type="radio"
                name="context"
                id="context-composition"
                value="composition"
                required
              />
              <label for="context-composition">Composition</label>

              <input type="radio" name="context" id="context-global" value="global" />
              <label for="context-global">Global</label>

              <input type="radio" name="context" id="context-overlay" value="overlay" />
              <label for="context-overlay">Overlay</label>

              <input type="radio" name="context" id="context-shared" value="shared" />
              <label for="context-shared">Shared</label>
            </fieldset>
          </div>
          <label>
            <span>Description:</span>
            <input class="mt-2 mb-4" type="text" name="description" />
          </label>
          <label>
            <span>Code:</span>
            <textarea class="font-mono mt-2" name="code" required></textarea>
          </label>
          <menu>
            <button type="submit">Save</button>
            <button type="reset" autofocus>Close</button>
          </menu>
        </form>
      </dialog>
      <dialog class="z-50 dialog-snippet" id="delete-snippet-dialog" data-trigger="delete-snippet">
        <form method="dialog">
          <h1>Delete Snippet</h1>
          <input type="hidden" name="id" />
          <menu>
            <button type="submit">Confirm</button>
            <button type="reset" autofocus>Cancel</button>
          </menu>
        </form>
      </dialog>
      <dialog
        class="z-50 dialog-import-export"
        id="import-export-dialog"
        data-trigger="import-export"
      >
        <form method="dialog">
          <div class="flex gap-4 items-start justify-between">
            <h1>Import / Export Snippets</h1>
            <button
              class="dialog-close w-10 h-10 grid place-content-center !bg-fg/20 !border-fg/20 border border-solid"
              type="reset"
            >
              âœ–
            </button>
          </div>
          <div class="flex flex-col gap-4">
            <button
              type="button"
              class="bg-fg/20 border-fg/20 text-fg border border-solid m-0"
              id="export"
            >
              Export to JSON
            </button>
            <button
              class="bg-rose-500/80 hover:bg-rose-500/95 border-rose-600 dark:border-rose-400/80 hover:border-rose-700 dark:hover:border-rose-400 border border-solid m-0"
              type="button"
              id="delete-snippets"
            >
              Delete all snippets
            </button>
            <div class="mt-8 flex gap-4 justify-between items-end">
              <div class="flex flex-col gap-1">
                <p class="font-normal opacity-80 italic">
                  Imported snippets will be added to your current collection
                </p>
                <label class="flex flex-col">
                  <span class="mb-1 inline-block">Import:</span>
                  <input
                    type="file"
                    name="import"
                    accept=".json"
                    class="bg-fg/10 border-fg/60 border border-solid rounded p-1"
                  />
                </label>
              </div>
              <button type="submit">Import</button>
            </div>
          </div>
        </form>
      </dialog>
    </div>
    <script type="module" src="./main.ts"></script>
  </body>
</html>
